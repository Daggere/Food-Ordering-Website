"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const WorkbenchRun=require("./run"),nimbella_deployer_1=require("nimbella-deployer"),nimbella_deployer_2=require("nimbella-deployer"),workbench_1=require("../../workbench"),nimbella_deployer_3=require("nimbella-deployer"),oauth_1=require("../../oauth");class WorkbenchLogin extends nimbella_deployer_1.NimBaseCommand{async runCommand(e,r,n,o,l){const i=await nimbella_deployer_3.getCredentials(nimbella_deployer_2.authPersister).catch(e=>l.handleError("",e)),a=`auth login ${await oauth_1.getCredentialsToken(i.ow,l)} --apihost ${i.ow.apihost}`;workbench_1.openWorkbench(a,!!o.preview,l)}}exports.default=WorkbenchLogin,WorkbenchLogin.description="Open the Nimbella Workbench, logging in with current credentials",WorkbenchLogin.flags=WorkbenchRun.default.flags,WorkbenchLogin.args=[],WorkbenchLogin.aliases=["wb:login"];
