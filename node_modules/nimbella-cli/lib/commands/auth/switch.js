"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const command_1=require("@oclif/command"),nimbella_deployer_1=require("nimbella-deployer"),nimbella_deployer_2=require("nimbella-deployer");class AuthSwitch extends nimbella_deployer_1.NimBaseCommand{async runCommand(e,a,t,i,s){const l=nimbella_deployer_1.parseAPIHost(i.apihost),r=await nimbella_deployer_1.disambiguateNamespace(t.namespace,l).catch(e=>s.handleError("",e)),o=await nimbella_deployer_2.switchNamespace(r,l,nimbella_deployer_2.authPersister).catch(e=>s.handleError("",e));s.log(`Successful switch to namespace '${r}' on API host '${o.ow.apihost}'`)}}exports.default=AuthSwitch,AuthSwitch.description="Switch to a different Nimbella namespace",AuthSwitch.flags=Object.assign({apihost:command_1.flags.string({description:"API host serving the target namespace"})},nimbella_deployer_1.NimBaseCommand.flags),AuthSwitch.args=[{name:"namespace",description:"The namespace you are switching to",required:!0}];
