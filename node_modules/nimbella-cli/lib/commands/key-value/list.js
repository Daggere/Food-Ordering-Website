"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const command_1=require("@oclif/command"),nimbella_deployer_1=require("nimbella-deployer"),nimbella_deployer_2=require("nimbella-deployer"),key_value_1=require("../../storage/key-value"),queryCommand="redis/keys";class KeysList extends nimbella_deployer_1.NimBaseCommand{async runCommand(e,s,r,a,i){await key_value_1.queryKVStore("redis/keys",r,a,nimbella_deployer_2.authPersister).then(e=>{e.value.forEach(e=>{i.log(e)})}).catch(e=>{var s,r,a;return i.handleError((null===(a=null===(r=null===(s=e.error)||void 0===s?void 0:s.response)||void 0===r?void 0:r.result)||void 0===a?void 0:a.error)||e.message)})}}exports.default=KeysList,KeysList.description="Lists Keys from Key Value Store",KeysList.flags=Object.assign({apihost:command_1.flags.string({description:"API host of the namespace to list keys from"}),namespace:command_1.flags.string({description:"The namespace to list keys from (current namespace if omitted)"})},nimbella_deployer_1.NimBaseCommand.flags),KeysList.args=[{name:"prefix",description:"Prefix to match keys against"}],KeysList.aliases=["kv:list"];
