"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const command_1=require("@oclif/command"),nimbella_deployer_1=require("nimbella-deployer"),nimbella_deployer_2=require("nimbella-deployer"),key_value_1=require("../../storage/key-value"),queryCommand="redis/expire";class Expire extends nimbella_deployer_1.NimBaseCommand{async runCommand(e,r,i,a,l){isNaN(i.ttl)?l.log("Please specify a numeric value for ttl"):await key_value_1.queryKVStore(queryCommand,i,a,nimbella_deployer_2.authPersister).then(e=>l.log(e.value)).catch(e=>{var r,i,a;return l.handleError((null===(a=null===(i=null===(r=e.error)||void 0===r?void 0:r.response)||void 0===i?void 0:i.result)||void 0===a?void 0:a.error)||e.message)})}}exports.default=Expire,Expire.description="Sets the specified ttl value for the specified key",Expire.flags=Object.assign({apihost:command_1.flags.string({description:"API host of the namespace"})},nimbella_deployer_1.NimBaseCommand.flags),Expire.args=[{name:"key",description:"The key to be added at",required:!0},{name:"ttl",description:"The ttl value to be set",required:!0}],Expire.aliases=["kv:expire"];
