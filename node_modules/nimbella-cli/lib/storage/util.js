"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.errorHandler=exports.humanFileSize=exports.fileMetaLong=exports.fileMetaShort=void 0;const chalk_1=require("chalk"),SIZE_LEN=10,LIST_SHORT_HEADER="Name",LIST_LONG_HEADER=`Size${" ".repeat(6)} Updated${" ".repeat(17)} Name`,MAYBE="-?-";async function fileMetaShort(e,t,o){o.log(chalk_1.bold("Name"));for(const t of e)o.log(""+t.name)}async function fileMetaLong(e,t,o){o.log(chalk_1.bold(LIST_LONG_HEADER));for(const n of e)await t.file(n.name).getMetadata().then((function(e){const t=e[0],n=t.name;let a="";const r=humanFileSize(t.size);r.length<10&&(a=" ".repeat(10-r.length));const i=t.updated||"-?-";o.log(`${r}${a} ${i} ${n}`)}))}function humanFileSize(e,t){if(!e)return;const o=t?1e3:1024;if(Math.abs(e)<o)return e+" B";const n=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let a=-1;do{e/=o,++a}while(Math.abs(e)>=o&&a<n.length-1);return e.toFixed(1)+" "+n[a]}function errorHandler(e,t,o){"CONTENT_DOWNLOAD_MISMATCH"===e.code?t.log(o+" content is not printable on prompt."):404===e.code?t.log(o+" is not available."):t.handleError(e.message)}exports.fileMetaShort=fileMetaShort,exports.fileMetaLong=fileMetaLong,exports.humanFileSize=humanFileSize,exports.errorHandler=errorHandler;
