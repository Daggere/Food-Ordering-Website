"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryKVStore=void 0;const nimbella_deployer_1=require("nimbella-deployer"),openwhisk=require("openwhisk"),systemNamespace="nimbella";async function queryKVStore(e,r,a,o){let t,n=a.namespace;if(n?t=await nimbella_deployer_1.getCredentialsForNamespace(n,a.apihost,o):(t=await nimbella_deployer_1.getCredentials(o),n=t.namespace),!t)return;if(!t.redis)throw new Error("Key-Value Store not enabled for namespace: "+n);return openwhisk(t.ow).actions.invoke({name:"/nimbella/"+e,blocking:!0,result:!0,params:r})}exports.queryKVStore=queryKVStore;
